(this["webpackJsonpsearch-page"]=this["webpackJsonpsearch-page"]||[]).push([[0],[,,,,,,function(e,a){e.exports="data:image/png;base64,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"},function(e,a,t){e.exports=t.p+"static/media/search.c4127766.svg"},function(e,a,t){e.exports=t.p+"static/media/algolia.35c461b6.svg"},function(e,a,t){e.exports=t.p+"static/media/settings.54202708.svg"},,,function(e,a,t){e.exports=t(23)},,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(3),l=t.n(c),s=(t(17),t(4)),i=t(5),o=t(1),h=t(11),m=t(10),d=t(6),u=t.n(d),B=t(7),p=t.n(B),g=t(8),b=t.n(g),E=t(9),f=t.n(E);t(18);var v=function(e){return r.a.createElement("div",{className:"header-block"},r.a.createElement("img",{src:u.a,alt:"logo-icon"}),r.a.createElement("h3",null,"Search Hacker News"),r.a.createElement("div",{className:"search-bar"},r.a.createElement("img",{src:p.a,alt:"search-icon"}),r.a.createElement("input",{type:"search",placeholder:"Search stories by title, url or author",size:"65",className:"search-input",onChange:e.handler}),r.a.createElement("p",null,"Search by ",r.a.createElement("img",{src:b.a,alt:"algolia"}))),r.a.createElement("a",{href:"htttps://google.com",className:"settings"},r.a.createElement("img",{src:f.a,alt:"settings"})," Settings "))};t(19);var y=function(e){return r.a.createElement("div",{className:"sort-tab-block"},r.a.createElement("span",null,"Search"),r.a.createElement("select",{onChange:e.handlerFirst},r.a.createElement("option",{value:"all"},"All"),r.a.createElement("option",{value:"story"},"Stories"),r.a.createElement("option",{value:"comment"},"Comments")),r.a.createElement("span",null,"by"),r.a.createElement("select",{onChange:e.handlerSecond,className:"by-pop-or-date"},r.a.createElement("option",{value:"popularity"},"Popularity"),r.a.createElement("option",{value:"date"},"Date")),r.a.createElement("span",null,"for"),r.a.createElement("select",{onChange:e.handlerThird,className:"by-time"},r.a.createElement("option",{value:"all-time"},"All time"),r.a.createElement("option",{value:"last-24h"},"Last 24h"),r.a.createElement("option",{value:"past-week"},"Past Week"),r.a.createElement("option",{value:"past-month"},"Past Month"),r.a.createElement("option",{value:"past-year"},"Past Year")))};t(20);var S=function(e){var a;return a=null===e.mainLink||""===e.mainLink?" ":"( "+e.mainLink+" )","all"===e.typeOfSearch||"story"===e.typeOfSearch?r.a.createElement("li",{className:"list-item"},r.a.createElement("div",{className:"article"},r.a.createElement("div",{className:"article-upper-block"},r.a.createElement("p",null,e.title),r.a.createElement("span",null,r.a.createElement("a",{href:e.mainLink,className:"link-text"}," ",a," "))),r.a.createElement("div",{className:"article-lower-block"},r.a.createElement("span",null,r.a.createElement("a",{href:e.mainLink}," ",e.points," points")),r.a.createElement("span",{className:"span-divider"}," | "),r.a.createElement("span",null,r.a.createElement("a",{href:e.mainLink}," ",e.author," ")),r.a.createElement("span",{className:"span-divider"}," | "),r.a.createElement("span",null,r.a.createElement("a",{href:e.mainLink}," ",e.age," ")),r.a.createElement("span",{className:"span-divider"}," | "),r.a.createElement("span",null,r.a.createElement("a",{href:e.mainLink}," ",e.comments," comments"))))):"comment"===e.typeOfSearch?r.a.createElement("li",{className:"list-item"},r.a.createElement("div",{className:"article"},r.a.createElement("div",{className:"article-upper-block"},r.a.createElement("p",{className:"comment-text"},e.commentText),r.a.createElement("span",null,r.a.createElement("a",{href:e.mainLink,className:"link-text"}," "))),r.a.createElement("div",{className:"article-lower-block"},r.a.createElement("span",null,r.a.createElement("a",{href:e.mainLink}," ",e.points," points")),r.a.createElement("span",{className:"span-divider"}," | "),r.a.createElement("span",null,r.a.createElement("a",{href:e.mainLink}," ",e.author," ")),r.a.createElement("span",{className:"span-divider"}," | "),r.a.createElement("span",null,r.a.createElement("a",{href:e.mainLink}," ",e.age," ")),r.a.createElement("span",{className:"span-divider"}," | "),r.a.createElement("span",null,r.a.createElement("a",{href:e.mainLink}," ",e.comments," comments"))))):void 0};t(21);var A=function(e){var a=[],t=[],n=[],c=[];if(void 0!==e.data)for(var l=0;l<e.data.length;l++){var s=new Date,i=new Date(e.data[l].created_at),o=Math.floor((s.getTime()-i.getTime())/36e5),h=Math.floor(Math.abs(s.getTime()-i.getTime())/864e5);h<30&&(o<24?o<1?t.push("less than an hour "):t.push(o+" hours"):t.push(h+" days")),h>30&&h<365&&t.push(Math.ceil(h/30)+" months"),h>365&&t.push(Math.ceil(h/365)+" years"),null===e.data[l].title&&null===e.data[l].url?null===e.data[l].story_title&&null===e.data[l].url?(n.push(e.data[l].comment_text),c.push("")):(n.push(e.data[l].story_title),c.push(e.data[l].story_url)):(n.push(e.data[l].title),c.push(e.data[l].url)),a.push(r.a.createElement(S,{title:n[l],mainLink:c[l],points:e.data[l].points,author:e.data[l].author,age:t[l]+" ago",comments:e.data[l].num_comments,typeOfSearch:e.typeOfSearch,commentText:e.data[l].comment_text,key:e.data[l].objectID,link:e.link}))}return r.a.createElement("div",{className:"articles-block"},r.a.createElement("ul",{className:"articles-list"},a))},k=(t(22),function(e){Object(h.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).state={modified:!1,data:"",searchThrough:"&tags=front_page",searchBy:"search?",searchByTime:"",typeOfSearch:"all"},n.handleSearch=n.handleSearch.bind(Object(o.a)(n)),n.handleSortFirst=n.handleSortFirst.bind(Object(o.a)(n)),n.handleSortSecond=n.handleSortSecond.bind(Object(o.a)(n)),n.handleSortThird=n.handleSortThird.bind(Object(o.a)(n)),n}return Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,a="http://hn.algolia.com/api/v1/".concat(this.state.searchBy,"query=").concat(this.state.searchThrough).concat(this.state.searchByTime);fetch(a).then((function(e){return e.json()})).then((function(a){return e.setState({data:a.hits})}))}},{key:"componentDidUpdate",value:function(e,a){var t=this;if(a.searchBy!==this.state.searchBy||a.searchThrough!==this.state.searchThrough||a.searchByTime!==this.state.searchByTime){var n="http://hn.algolia.com/api/v1/".concat(this.state.searchBy,"query=").concat(this.state.searchThrough).concat(this.state.searchByTime);fetch(n).then((function(e){return e.json()})).then((function(e){return t.setState({data:e.hits})}))}}},{key:"handleSearch",value:function(e){var a=this;fetch("http://hn.algolia.com/api/v1/".concat(this.state.searchBy,"query=").concat(e.target.value).concat(this.state.searchThrough).concat(this.state.searchByTime)).then((function(e){return e.json()})).then((function(e){return a.setState({data:e.hits})}))}},{key:"handleSortFirst",value:function(e){"all"===e.target.value&&this.setState({modified:!0,searchThrough:" ",typeOfSearch:"all"}),"story"===e.target.value&&this.setState({modified:!0,searchThrough:"&tags=story",typeOfSearch:"story"}),"comment"===e.target.value&&this.setState({modified:!0,searchThrough:"&tags=comment",typeOfSearch:"comment"})}},{key:"handleSortSecond",value:function(e){"popularity"===e.target.value&&this.setState({modified:!0,searchBy:"search?"}),"date"===e.target.value&&this.setState({modified:!0,searchBy:"search_by_date?"})}},{key:"handleSortThird",value:function(e){var a=(new Date).getTime()/1e3;if("all-time"===e.target.value&&this.setState({searchByTime:""}),"last-24h"===e.target.value){var t=a-86400;this.setState({searchByTime:"&numericFilters=created_at_i>".concat(t,",created_at_i<").concat(a)})}if("past-week"===e.target.value){var n=a-604800;this.setState({searchByTime:"&numericFilters=created_at_i>".concat(n,",created_at_i<").concat(a)})}if("past-month"===e.target.value){var r=a-2592e3;this.setState({searchByTime:"&numericFilters=created_at_i>".concat(r,",created_at_i<").concat(a)})}if("past-year"===e.target.value){var c=a-31536e3;this.setState({searchByTime:"&numericFilters=created_at_i>".concat(c,",created_at_i<").concat(a)})}}},{key:"render",value:function(){return r.a.createElement("div",{className:"app-holder"},r.a.createElement(v,{handler:this.handleSearch}),r.a.createElement(y,{handlerFirst:this.handleSortFirst,handlerSecond:this.handleSortSecond,handlerThird:this.handleSortThird}),r.a.createElement(A,{data:this.state.data,typeOfSearch:this.state.typeOfSearch}))}}]),t}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[12,1,2]]]);
//# sourceMappingURL=main.0cb95d36.chunk.js.map